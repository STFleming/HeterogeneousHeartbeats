#-----------------------------------------------------------
# Vivado v2013.4 (64-bit)
# SW Build 353583 on Mon Dec  9 17:26:26 MST 2013
# IP Build 208076 on Mon Dec  2 12:38:17 MST 2013
# Start of session at: Sun Jun  1 13:31:38 2014
# Process ID: 22809
# Log file: /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/kernel/vivado.log
# Journal file: /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/kernel/vivado.jou
#-----------------------------------------------------------
start_gui
create_project k_means_zynq /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/k_means_zynq -part xc7z020clg484-1
set_property board xilinx.com:zynq:zc702:1.0 [current_project]
set_property target_language VHDL [current_project]
set_property simulator_language VHDL [current_project]
add_files -norecurse /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/design_1.bd
open_bd_design {/home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/design_1.bd}
report_ip_status -name ip_status_1 
set_property ip_repo_paths  /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/combiner/HLS/combiner [current_fileset]
update_ip_catalog
set_property ip_repo_paths  {/home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/combiner/HLS/combiner /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/init_memory/HLS/init_memory/init_memory} [current_fileset]
update_ip_catalog
set_property ip_repo_paths  {/home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/combiner/HLS/combiner /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/init_memory/HLS/init_memory/init_memory /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/kernel/HLS/kernel/kernel} [current_fileset]
update_ip_catalog
report_ip_status -name ip_status_1 
current_bd_design design_1
upgrade_bd_cells [get_bd_cells [list /lloyds_kernel_top_0 /combiner_top_0 /init_memory_top_0 ] ]
report_ip_status -name ip_status_1 
set_property location {2478 866} [get_bd_ports distortion_out_ap_vld]
undo
delete_bd_objs [get_bd_nets init_memory_top_0_ap_idle] [get_bd_intf_nets init_memory_top_0_M_AXI_DATA_POINTS_OUT] [get_bd_nets data_points_in_empty_n_1] [get_bd_intf_nets init_memory_top_0_M_AXI_CENTRES_OUT] [get_bd_nets init_memory_top_0_data_points_in_read] [get_bd_nets centres_in_dout_1] [get_bd_nets init_memory_top_0_ap_done] [get_bd_nets init_memory_top_0_centres_in_read] [get_bd_nets centres_in_empty_n_1] [get_bd_nets init_memory_top_0_ap_ready] [get_bd_nets data_points_in_dout_1] [get_bd_nets ap_start_1_1] [get_bd_cells init_memory_top_0]
delete_bd_objs [get_bd_ports data_points_in_read]
delete_bd_objs [get_bd_ports centres_in_read]
delete_bd_objs [get_bd_ports ap_ready_1]
delete_bd_objs [get_bd_ports ap_done_1]
delete_bd_objs [get_bd_ports ap_idle_1]
delete_bd_objs [get_bd_ports data_points_in_dout]
delete_bd_objs [get_bd_ports data_points_in_empty_n]
delete_bd_objs [get_bd_ports centres_in_dout]
delete_bd_objs [get_bd_ports centres_in_empty_n]
delete_bd_objs [get_bd_ports ap_start_1]
regenerate_bd_layout
startgroup
set_property -dict [list CONFIG.C_M_AXI_DATA_POINTS_TARGET_ADDR {0x38400000} CONFIG.C_M_AXI_CENTRES_IN_TARGET_ADDR {0x39000000} CONFIG.C_M_AXI_OUTPUT_R_TARGET_ADDR {0x39000C00}] [get_bd_cells lloyds_kernel_top_0]
endgroup
startgroup
set_property -dict [list CONFIG.C_M_AXI_DATA_POINTS_IN_TARGET_ADDR {0x38400000} CONFIG.C_M_AXI_KERNEL_INFO_IN_TARGET_ADDR {0x39000C00} CONFIG.C_M_AXI_CENTRES_OUT_TARGET_ADDR {0x39000000}] [get_bd_cells combiner_top_0]
endgroup
delete_bd_objs [get_bd_intf_nets axi_interconnect_0_M00_AXI] [get_bd_intf_nets axi_bram_ctrl_0_BRAM_PORTA] [get_bd_cells axi_bram_ctrl_0]
delete_bd_objs [get_bd_cells blk_mem_gen_0]
create_bd_intf_port -mode Master -vlnv xilinx.com:interface:aximm_rtl:1.0 MASTER_PORTA
connect_bd_intf_net [get_bd_intf_ports MASTER_PORTA] [get_bd_intf_pins axi_interconnect_0/M00_AXI]
set_property location {1883 632} [get_bd_intf_ports MASTER_PORTA]
set_property location {1868 645} [get_bd_intf_ports MASTER_PORTA]
assign_bd_address
undo
regenerate_bd_layout
generate_target all [get_files  /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/design_1.bd]
ipx::package_project -module design_1
ipx::add_address_space {MASTER_PORTA} [ipx::current_core]
set_property master_address_space_ref {MASTER_PORTA} [ipx::get_bus_interface MASTER_PORTA [ipx::current_core]]
set_property range {4G} [ipx::get_address_space MASTER_PORTA [ipx::current_core]]
delete_bd_objs [get_bd_intf_nets axi_interconnect_0_M00_AXI] [get_bd_intf_ports MASTER_PORTA]
set_property location {4.5 1570 594} [get_bd_cells axi_interconnect_0]
startgroup
create_bd_intf_port -mode Master -vlnv xilinx.com:interface:aximm_rtl:1.0 M00_AXI
connect_bd_intf_net [get_bd_intf_pins axi_interconnect_0/M00_AXI] [get_bd_intf_ports /M00_AXI]
endgroup
ipx::unload_core {component xilinx.com:ip:design_1:1.0}
save_bd_design
assign_bd_address
undo
generate_target all [get_files  /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/design_1.bd]
ipx::package_project -module design_1
assign_bd_address
set_property offset 0x00000000 [get_bd_addr_segs {combiner_top_0/Data/SEG_design_1_Reg}]
set_property range 4G [get_bd_addr_segs {combiner_top_0/Data/SEG_design_1_Reg}]
set_property range 2G [get_bd_addr_segs {combiner_top_0/Data/SEG_design_1_Reg}]
set_property range 1G [get_bd_addr_segs {combiner_top_0/Data/SEG_design_1_Reg}]
set_property offset 0x00000000 [get_bd_addr_segs {lloyds_kernel_top_0/Data/SEG_design_1_Reg}]
set_property range 1G [get_bd_addr_segs {lloyds_kernel_top_0/Data/SEG_design_1_Reg}]
ipx::unload_core {component xilinx.com:ip:design_1:1.0}
save_bd_design
generate_target all [get_files  /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/design_1.bd]
ipx::package_project -module design_1
set_property display_name {K_means_block} [ipx::current_core]
set_property vendor_display_name {K_means_block} [ipx::current_core]
ipx::remove_all_hdl_parameter [ipx::current_core]
ipx::add_model_parameters_from_hdl [ipx::current_core] -top_level_hdl_file {/home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/hdl/design_1.vhd} -top_module_name {design_1}
ipx::remove_all_port [ipx::current_core]
ipx::add_ports_from_hdl [ipx::current_core] -top_level_hdl_file {/home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/hdl/design_1.vhd} -top_module_name {design_1}
ipx::add_address_space {M00_AXI} [ipx::current_core]
set_property master_address_space_ref {M00_AXI} [ipx::get_bus_interface M00_AXI [ipx::current_core]]
set_property range {4G} [ipx::get_address_space M00_AXI [ipx::current_core]]
set_property width {32} [ipx::get_address_space M00_AXI [ipx::current_core]]
ipx::create_xgui_files [ipx::current_core]
ipx::save_core [ipx::current_core]
set_property ip_repo_paths  {/home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1 /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/combiner/HLS/combiner /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/init_memory/HLS/init_memory/init_memory /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/kernel/HLS/kernel/kernel} [current_fileset]
update_ip_catalog
ipx::check_integrity -quiet [ipx::current_core]
ipx::archive_core {/home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/xilinx.com_ip_design_1_1.0.zip} [ipx::current_core]
ipx::unload_core {xilinx.com:ip:design_1:1.0}
create_bd_design "zynq_system"
update_compile_order -fileset sources_1
startgroup
current_bd_design [get_bd_designs zynq_system]
create_bd_cell -type ip -vlnv xilinx.com:ip:processing_system7:5.3 processing_system7_0
endgroup
apply_bd_automation -rule xilinx.com:bd_rule:processing_system7 -config {make_external "FIXED_IO, DDR" apply_board_preset "1" }  [get_bd_cells processing_system7_0]
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:design_1:1.0 design_1_0
endgroup
delete_bd_objs [get_bd_cells design_1_0]
open_bd_design {/home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/design_1.bd}
open_bd_design {/home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/k_means_zynq/k_means_zynq.srcs/sources_1/bd/zynq_system/zynq_system.bd}
open_bd_design {/home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/design_1.bd}
set_property CONFIG.ASSOCIATED_BUSIF {M00_AXI} [get_bd_ports /clk_in1]
save_bd_design
generate_target all [get_files  /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/design_1.bd]
startgroup
create_bd_port -dir I -type clk AXIM_CLOCK
set_property CONFIG.FREQ_HZ 100000000 [ get_bd_ports AXIM_CLOCK]
endgroup
startgroup
set_property CONFIG.ASSOCIATED_BUSIF {M00_AXI} [get_bd_ports /AXIM_CLOCK]
set_property CONFIG.ASSOCIATED_BUSIF {} [get_bd_ports /clk_in1]
endgroup
save_bd_design
generate_target all [get_files  /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/design_1.bd]
reset_property LOCATION [get_bd_ports AXIM_CLOCK]
set_property location {679 783} [get_bd_ports AXIM_CLOCK]
set_property location {1934 671} [get_bd_ports AXIM_CLOCK]
reset_target all [get_files  /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/design_1.bd]
generate_target all [get_files  /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/design_1.bd]
set_property location {2558 722} [get_bd_ports AXIM_CLOCK]
delete_bd_objs [get_bd_ports AXIM_CLOCK]
create_bd_port -dir O -type clk AXIM_CLOCK
set_property location {1740 772} [get_bd_ports AXIM_CLOCK]
connect_bd_net -net [get_bd_nets clk_wiz_0_clk_out1] [get_bd_ports AXIM_CLOCK] [get_bd_pins clk_wiz_0/clk_out1]
set_property CONFIG.ASSOCIATED_BUSIF {M00_AXI} [get_bd_ports /AXIM_CLOCK]
save_bd_design
reset_target all [get_files  /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/design_1.bd]
generate_target all [get_files  /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/design_1.bd]
ipx::package_project -module design_1
ipx::create_xgui_files [ipx::current_core]
ipx::save_core [ipx::current_core]
update_ip_catalog -rebuild -repo_path /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1
ipx::check_integrity -quiet [ipx::current_core]
ipx::archive_core {/home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/xilinx.com_ip_design_1_1.0.zip} [ipx::current_core]
ipx::unload_core {xilinx.com:ip:design_1:1.0}
open_bd_design {/home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/k_means_zynq/k_means_zynq.srcs/sources_1/bd/zynq_system/zynq_system.bd}
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:design_1:1.0 design_1_0
endgroup
set_property location {1 312 261} [get_bd_cells design_1_0]
set_property location {1 180 146} [get_bd_cells design_1_0]
startgroup
set_property -dict [list CONFIG.PCW_USE_S_AXI_GP0 {1}] [get_bd_cells processing_system7_0]
endgroup
delete_bd_objs [get_bd_cells design_1_0]
delete_bd_objs [get_bd_intf_nets processing_system7_0_FIXED_IO] [get_bd_intf_nets processing_system7_0_DDR] [get_bd_cells processing_system7_0]
delete_bd_objs [get_bd_intf_ports DDR]
delete_bd_objs [get_bd_intf_ports FIXED_IO]
file delete -force /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/k_means_zynq/k_means_zynq.srcs/sources_1/bd/zynq_system
remove_files /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/k_means_zynq/k_means_zynq.srcs/sources_1/bd/zynq_system/zynq_system.bd
open_bd_design {/home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/design_1.bd}
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:processing_system7:5.3 processing_system7_0
endgroup
apply_bd_automation -rule xilinx.com:bd_rule:processing_system7 -config {make_external "FIXED_IO, DDR" apply_board_preset "1" }  [get_bd_cells processing_system7_0]
startgroup
set_property -dict [list CONFIG.PCW_USE_S_AXI_GP0 {1}] [get_bd_cells processing_system7_0]
endgroup
delete_bd_objs [get_bd_intf_nets axi_interconnect_0_M00_AXI] [get_bd_intf_ports M00_AXI]
delete_bd_objs [get_bd_ports AXIM_CLOCK]
delete_bd_objs [get_bd_intf_nets S01_AXI_1] [get_bd_intf_nets S07_AXI_1] [get_bd_intf_nets S05_AXI_1] [get_bd_nets ARESETN_1] [get_bd_intf_nets S02_AXI_1] [get_bd_intf_nets S00_AXI_1] [get_bd_intf_nets S06_AXI_1] [get_bd_cells axi_interconnect_0]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/combiner_top_0/M_AXI_CENTRES_OUT" }  [get_bd_intf_pins processing_system7_0/S_AXI_GP0]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Slave "/processing_system7_0/S_AXI_GP0" }  [get_bd_intf_pins lloyds_kernel_top_0/M_AXI_DATA_POINTS]
startgroup
set_property -dict [list CONFIG.NUM_SI {3}] [get_bd_cells axi_mem_intercon]
endgroup
connect_bd_intf_net [get_bd_intf_pins lloyds_kernel_top_0/M_AXI_CENTRES_IN] [get_bd_intf_pins axi_mem_intercon/S02_AXI]
startgroup
set_property -dict [list CONFIG.NUM_SI {4}] [get_bd_cells axi_mem_intercon]
endgroup
connect_bd_intf_net [get_bd_intf_pins lloyds_kernel_top_0/M_AXI_OUTPUT_R] [get_bd_intf_pins axi_mem_intercon/S03_AXI]
startgroup
set_property -dict [list CONFIG.NUM_SI {5}] [get_bd_cells axi_mem_intercon]
endgroup
connect_bd_intf_net [get_bd_intf_pins combiner_top_0/M_AXI_DATA_POINTS_IN] [get_bd_intf_pins axi_mem_intercon/S04_AXI]
startgroup
set_property -dict [list CONFIG.NUM_SI {6}] [get_bd_cells axi_mem_intercon]
endgroup
connect_bd_intf_net [get_bd_intf_pins combiner_top_0/M_AXI_KERNEL_INFO_IN] [get_bd_intf_pins axi_mem_intercon/S05_AXI]
validate_bd_design
connect_bd_net -net [get_bd_nets clk_wiz_0_clk_out1] [get_bd_pins axi_mem_intercon/S02_ACLK] [get_bd_pins clk_wiz_0/clk_out1]
connect_bd_net -net [get_bd_nets clk_wiz_0_clk_out1] [get_bd_pins axi_mem_intercon/S03_ACLK] [get_bd_pins clk_wiz_0/clk_out1]
connect_bd_net -net [get_bd_nets clk_wiz_0_clk_out1] [get_bd_pins axi_mem_intercon/S04_ACLK] [get_bd_pins clk_wiz_0/clk_out1]
connect_bd_net -net [get_bd_nets clk_wiz_0_clk_out1] [get_bd_pins axi_mem_intercon/S05_ACLK] [get_bd_pins clk_wiz_0/clk_out1]
connect_bd_net -net [get_bd_nets proc_sys_reset_0_peripheral_aresetn] [get_bd_pins axi_mem_intercon/S02_ARESETN] [get_bd_pins proc_sys_reset_0/peripheral_aresetn]
connect_bd_net -net [get_bd_nets proc_sys_reset_0_peripheral_aresetn] [get_bd_pins axi_mem_intercon/S03_ARESETN] [get_bd_pins proc_sys_reset_0/peripheral_aresetn]
connect_bd_net -net [get_bd_nets proc_sys_reset_0_peripheral_aresetn] [get_bd_pins axi_mem_intercon/S04_ARESETN] [get_bd_pins proc_sys_reset_0/peripheral_aresetn]
connect_bd_net -net [get_bd_nets proc_sys_reset_0_peripheral_aresetn] [get_bd_pins axi_mem_intercon/S05_ARESETN] [get_bd_pins proc_sys_reset_0/peripheral_aresetn]
validate_bd_design
connect_bd_net -net [get_bd_nets clk_wiz_0_clk_out1] [get_bd_pins processing_system7_0/M_AXI_GP0_ACLK] [get_bd_pins clk_wiz_0/clk_out1]
regenerate_bd_layout
validate_bd_design
startgroup
endgroup
startgroup
set_property -dict [list CONFIG.PCW_USE_S_AXI_HP0 {1} CONFIG.PCW_USE_S_AXI_HP1 {1} CONFIG.PCW_USE_S_AXI_HP2 {1} CONFIG.PCW_USE_S_AXI_HP3 {1}] [get_bd_cells processing_system7_0]
endgroup
delete_bd_objs [get_bd_intf_nets lloyds_kernel_top_0_M_AXI_OUTPUT_R] [get_bd_intf_nets combiner_top_0_M_AXI_DATA_POINTS_IN] [get_bd_intf_nets axi_mem_intercon_M00_AXI] [get_bd_intf_nets lloyds_kernel_top_0_M_AXI_DATA_POINTS] [get_bd_intf_nets lloyds_kernel_top_0_M_AXI_CENTRES_IN] [get_bd_intf_nets combiner_top_0_M_AXI_CENTRES_OUT] [get_bd_nets proc_sys_reset_0_interconnect_aresetn] [get_bd_intf_nets combiner_top_0_M_AXI_KERNEL_INFO_IN] [get_bd_cells axi_mem_intercon]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/combiner_top_0/M_AXI_CENTRES_OUT" }  [get_bd_intf_pins processing_system7_0/S_AXI_HP0]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/combiner_top_0/M_AXI_CENTRES_OUT" }  [get_bd_intf_pins processing_system7_0/S_AXI_HP1]
delete_bd_objs [get_bd_intf_nets axi_mem_intercon_M01_AXI]
delete_bd_objs [get_bd_intf_nets axi_mem_intercon_M00_AXI] [get_bd_intf_nets combiner_top_0_M_AXI_CENTRES_OUT] [get_bd_nets proc_sys_reset_0_interconnect_aresetn] [get_bd_cells axi_mem_intercon]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/combiner_top_0/M_AXI_KERNEL_INFO_IN" }  [get_bd_intf_pins processing_system7_0/S_AXI_HP0]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/combiner_top_0/M_AXI_DATA_POINTS_IN" }  [get_bd_intf_pins processing_system7_0/S_AXI_HP1]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/lloyds_kernel_top_0/M_AXI_DATA_POINTS" }  [get_bd_intf_pins processing_system7_0/S_AXI_HP2]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/lloyds_kernel_top_0/M_AXI_OUTPUT_R" }  [get_bd_intf_pins processing_system7_0/S_AXI_HP3]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/combiner_top_0/M_AXI_CENTRES_OUT" }  [get_bd_intf_pins processing_system7_0/S_AXI_GP0]
startgroup
endgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Slave "/processing_system7_0/S_AXI_GP0" }  [get_bd_intf_pins lloyds_kernel_top_0/M_AXI_CENTRES_IN]
assign_bd_address [get_bd_addr_segs {processing_system7_0/S_AXI_GP0/GP0_DDR_LOWOCM }]
validate_bd_design
remove_files /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/rtlsim.srcs/sources_1/bd/design_1/design_1.bd
create_bd_design "zynq_system"
update_compile_order -fileset sources_1
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:processing_system7:5.3 processing_system7_0
endgroup
apply_bd_automation -rule xilinx.com:bd_rule:processing_system7 -config {make_external "FIXED_IO, DDR" apply_board_preset "1" }  [get_bd_cells processing_system7_0]
startgroup
create_bd_cell -type ip -vlnv xilinx.com:hls:combiner_top:1.0 combiner_top_0
endgroup
delete_bd_objs [get_bd_cells combiner_top_0]
update_ip_catalog -rebuild
startgroup
create_bd_cell -type ip -vlnv xilinx.com:hls:combiner_top:1.0 combiner_top_0
endgroup
set_property location {1 280 27} [get_bd_cells combiner_top_0]
connect_bd_net [get_bd_pins processing_system7_0/FCLK_CLK0] [get_bd_pins combiner_top_0/aclk]
connect_bd_net [get_bd_pins combiner_top_0/aresetn] [get_bd_pins processing_system7_0/FCLK_RESET0_N]
startgroup
set_property -dict [list CONFIG.PCW_USE_S_AXI_GP0 {1}] [get_bd_cells processing_system7_0]
endgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/processing_system7_0/M_AXI_GP0" }  [get_bd_intf_pins combiner_top_0/S_AXI_CONFIG_BUS]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/combiner_top_0/M_AXI_MASTER_PORTB" }  [get_bd_intf_pins processing_system7_0/S_AXI_GP0]
startgroup
set_property -dict [list CONFIG.NUM_SI {2}] [get_bd_cells processing_system7_0_axi_periph]
endgroup
connect_bd_intf_net [get_bd_intf_pins combiner_top_0/M_AXI_MASTER_PORTA] [get_bd_intf_pins processing_system7_0_axi_periph/S01_AXI]
regenerate_bd_layout
assign_bd_address [get_bd_addr_segs {combiner_top_0/S_AXI_CONFIG_BUS/Reg }]
validate_bd_design
connect_bd_net -net [get_bd_nets processing_system7_0_FCLK_CLK0] [get_bd_pins processing_system7_0_axi_periph/S01_ACLK] [get_bd_pins processing_system7_0/FCLK_CLK0]
connect_bd_net -net [get_bd_nets rst_processing_system7_0_50M_peripheral_aresetn] [get_bd_pins processing_system7_0_axi_periph/S01_ARESETN] [get_bd_pins rst_processing_system7_0_50M/peripheral_aresetn]
validate_bd_design
regenerate_bd_layout
update_ip_catalog -rebuild
startgroup
create_bd_cell -type ip -vlnv xilinx.com:hls:lloyds_kernel_top:1.0 lloyds_kernel_top_0
endgroup
set_property location {3 996 1017} [get_bd_cells lloyds_kernel_top_0]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Master "/processing_system7_0/M_AXI_GP0" }  [get_bd_intf_pins lloyds_kernel_top_0/S_AXI_CONFIG_BUS]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Slave "/processing_system7_0/S_AXI_GP0" }  [get_bd_intf_pins lloyds_kernel_top_0/M_AXI_MASTER_PORTA]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config {Slave "/combiner_top_0/S_AXI_CONFIG_BUS" }  [get_bd_intf_pins lloyds_kernel_top_0/M_AXI_MASTER_PORTB]
validate_bd_design
make_wrapper -files [get_files /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/k_means_zynq/k_means_zynq.srcs/sources_1/bd/zynq_system/zynq_system.bd] -top
add_files -norecurse /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/k_means_zynq/k_means_zynq.srcs/sources_1/bd/zynq_system/hdl/zynq_system_wrapper.vhd
update_compile_order -fileset sources_1
update_compile_order -fileset sources_1
update_compile_order -fileset sim_1
update_ip_catalog -rebuild
report_ip_status -name ip_status_1 
current_bd_design zynq_system
upgrade_bd_cells [get_bd_cells [list /lloyds_kernel_top_0 ] ]
report_ip_status -name ip_status_1 
launch_runs synth_1
wait_on_run synth_1
launch_runs impl_1
wait_on_run impl_1
open_run impl_1
launch_runs impl_1 -to_step write_bitstream
wait_on_run impl_1
file copy -force /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/k_means_zynq/k_means_zynq.runs/impl_1/zynq_system_wrapper.bit /home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/output_bitstream/system.bit
open_bd_design {/home/sf306/phd_codebase/github/HeterogeneousHeartbeats/applications/lloyds/RTL/k_means_zynq/k_means_zynq.srcs/sources_1/bd/zynq_system/zynq_system.bd}
