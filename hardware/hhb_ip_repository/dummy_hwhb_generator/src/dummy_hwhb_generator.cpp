/*
	Heterogeneous Heartbeats: Dummy Hardware Heartbeat Generator
    This is a module that connects to the Sensor Bus and generates random 
    heartbeats. It is used for testing how heartbeat producers in the
    hardware domain can connect to the infrastructure.
 */
				      
#include <stdio.h>
#include <string.h>

#define HWHB_LOCATION 0x43C00000 //This is the location of the AXI-Slave which is on the HWHB module
//In order for hardware modules to register heartbeats they need to know the location of the HWHB module on the 
//sensor bus.

#define APPID 10 //This defines the AppID, heartbeats generated by this module will
//be registered and tracked under this ID.

#define HB_LOG_SIZE 2 //This is the amount of data that is sent to the hardware heartbeat registration 
//module to indicate that a heartbeat has been registered.

void dummy_hwhb_generator(volatile int *a, unsigned int *debug1){
  
  //ap_bus is the only valid nativeVivado HLSinterface for memory mapped master ports
#pragma HLS INTERFACE ap_bus port=a depth=N
  
  //Port a is assigned to an AXI4-master interface
#pragma HLS RESOURCE variable=a core=AXI4M

#pragma HLS RESOURCE variable=return core=AXI4LiteS metadata="-bus_bundle BUS_A"

#pragma HLS INTERFACE ap_none register     port=debug1
#pragma HLS RESOURCE core=AXI4LiteS    variable=debug1 metadata="-bus_bundle BUS_A"

  int i;
  int buff[N];
 
  


    return;
}
